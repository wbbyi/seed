{"version":3,"file":"home.js","sources":["pages/home/home.vue","../../HBuilderX/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaG9tZS9ob21lLnZ1ZQ"],"sourcesContent":["<template>\r\n\t<view class=\"swiper\">\r\n\t\t<!-- 指示点组件 -->\r\n\t\t<uni-swiper-dot :info=\"info\" :current=\"current\" mode=\"round\" :dots-styles=\"dotsStyles\">\r\n\t\t\t<!-- 轮播图主体 -->\r\n\t\t\t<swiper :current=\"current\" @change=\"onSwiperChange\" :autoplay=\"true\" :circular=\"true\">\r\n\t\t\t\t<swiper-item v-for=\"(item, index) in info\" :key=\"index\">\r\n\t\t\t\t\t<view class=\"swiper-item\">{{ item.content }}</view>\r\n\t\t\t\t</swiper-item>\r\n\t\t\t</swiper>\r\n\t\t</uni-swiper-dot>\r\n\t</view>\r\n\r\n\t<view class=\"historyCard\">\r\n\t\t<text class=\"history\">&nbsp; &nbsp; 历史记录</text>\r\n\t\t<view class=\"noHistory\" v-if=\"seedList.length === 0\">\r\n\t\t\t<image src=\"/static/history.png\" mode=\"widthFix\"></image>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"cards\" v-else v-for=\"i in seedList\" :key=\"i\">\r\n\t\t\t<uni-card :title=\"i.name\" :sub-title=\"i.time\" :thumbnail=\"i.photo\">\r\n\t\t\t\t<text>{{i.text}}</text>;\r\n\t\t\t</uni-card>\r\n\t\t</view>\r\n\t</view>\r\n\t<!-- 蒙层 -->\r\n\t<view v-if=\"showPopup\" class=\"mask\" @click=\"closePopup\"></view>\r\n\r\n\t<!-- 半屏弹窗 -->\r\n\t<view v-if=\"showPopup\" class=\"bottom-popup\">\r\n\t\t<view class=\"camera-text\">\r\n\t\t\t<text>半屏弹窗内容</text>\r\n\t\t</view>\r\n\t\t<view class=\"btn-camera\">\r\n\t\t\t<button class=\"camera\" fileMediatype=\"image\" :image-styles=\"imageStyles\">\r\n\t\t\t\t<image src=\"/static/takePhoto.png\" mode=\"widthFix\"></image>\r\n\t\t\t</button>\r\n\t\t\t<button class=\"camera\" :image-styles=\"imageStyles\">\r\n\t\t\t\t<image src=\"/static/album.png\" mode=\"widthFix\"></image>\r\n\t\t\t</button>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\n\timport { ref, onMounted, onUnmounted } from 'vue'\r\n\timport methods from '@/pages/home/homeMethods'\r\n\timport { onShow } from '@dcloudio/uni-app'\r\n\timport { CardMessage } from \"@/pages/home/homeClass\"\r\n\r\n\t// 响应式数据定义\r\n\tconst current = ref(0);\r\n\tconst info = ref([{\r\n\t\tcontent: '页面1'\r\n\t},\r\n\t{\r\n\t\tcontent: '页面2'\r\n\t},\r\n\t{\r\n\t\tcontent: '页面3'\r\n\t}\r\n\t]);\r\n\tlet seedList = ref<CardMessage[]>([])\r\n\tconst date = new Date()\r\n\tconst seed1 = new CardMessage('/static/history.png', '1', '1', date)\r\n\tseedList.value.push(seed1)\r\n\r\n\r\n\t// 指示点样式配置\r\n\tconst dotsStyles = {\r\n\t\tbackgroundColor: 'rgba(0, 0, 0, .3)',\r\n\t\tborder: '1px rgba(0, 0, 0, .3) solid',\r\n\t\tcolor: '#fff',\r\n\t\tselectedBackgroundColor: 'rgba(0, 0, 0, .9)',\r\n\t\tselectedBorder: '1px rgba(0, 0, 0, .9) solid'\r\n\t};\r\n\r\n\t// 轮播图切换事件\r\n\tconst onSwiperChange = (e : { detail : { current : number; }; }) => {\r\n\t\tcurrent.value = e.detail.current;\r\n\t};\r\n\r\n\tconst showPopup = ref(false)\r\n\r\n\t// 打开弹窗\r\n\tconst openPopup = () => {\r\n\t\tshowPopup.value = true\r\n\t}\r\n\r\n\t// 关闭弹窗\r\n\tconst closePopup = () => {\r\n\t\tshowPopup.value = false\r\n\t}\r\n\r\n\tonMounted(() => {\r\n\t\tconst pages = getCurrentPages()\r\n\t\tconst currentPage = pages[pages.length - 1] as any\r\n\r\n\t\t// 注册页面方法供 tabBar 调用\r\n\t\tcurrentPage.openPopup = openPopup\r\n\t})\r\n\r\n\tonUnmounted(() => {\r\n\t\tconst pages = getCurrentPages()\r\n\t\tconst currentPage = pages[pages.length - 1] as any\r\n\r\n\t\t// 卸载时清理\r\n\t\tdelete currentPage.openPopup\r\n\t})\r\n\tonShow(() => {\r\n\t\t// 调用自定义 tabbar 组件中暴露的 setData 来切换选中项\r\n\t\tconst tabBar = getApp().$tabbar\r\n\t\tif (tabBar) {\r\n\t\t\ttabBar.setData({\r\n\t\t\t\tselected: 0\r\n\t\t\t})\r\n\t\t}\r\n\t})\r\n\r\n\tlet imageStyles = {\r\n\t\twidth: 50,\r\n\t\theight: 50,\r\n\t};\r\n</script>\r\n\r\n<style scoped>\r\n\t.swiper-item {\r\n\t\theight: 300rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tbackground-color: #eee;\r\n\t}\r\n\r\n\t.swiper {\r\n\t\tmargin-bottom: 70rpx;\r\n\t}\r\n\r\n\t.history {\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t.float-btn {\r\n\t\tposition: fixed;\r\n\t\tbottom: 0rpx;\r\n\t\tleft: 50%;\r\n\t\ttransform: translateX(-50%);\r\n\t\twidth: 100rpx;\r\n\t\theight: 100rpx;\r\n\t\tborder-radius: 50%;\r\n\t\tbackground: #007AFF;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tz-index: 999;\r\n\t}\r\n\r\n\t.float-btn cover-image {\r\n\t\twidth: 60rpx;\r\n\t\theight: 60rpx;\r\n\t}\r\n\r\n\t.button1 {\r\n\t\tbottom: 0rpx;\r\n\t}\r\n\r\n\t.page {\r\n\t\tpadding-bottom: 100rpx;\r\n\t\t/* 给 tabBar 留空间 */\r\n\t}\r\n\r\n\t.mask {\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tbackground-color: rgba(0, 0, 0, 0.5);\r\n\t\tz-index: 100;\r\n\t}\r\n\r\n\t.bottom-popup {\r\n\t\tdisplay: flex;\r\n\t\tposition: fixed;\r\n\t\tbottom: 0;\r\n\t\tleft: 0;\r\n\t\twidth: 100%;\r\n\t\theight: 25%;\r\n\t\tbackground-color: #fff;\r\n\t\tborder-top-left-radius: 20px;\r\n\t\tborder-top-right-radius: 20px;\r\n\t\tz-index: 101;\r\n\t\tpadding: 20px;\r\n\t\tflex-direction: column;\r\n\t\tpadding: 40rpx 20rpx;\r\n\t\talign-items: center;\r\n\t\t/* 水平居中 */\r\n\t}\r\n\r\n\t.camera-text {\r\n\t\ttext-align: center;\r\n\t\tfont-size: 32rpx;\r\n\t\tfont-weight: 600;\r\n\t}\r\n\r\n\t.btn-camera {\r\n\r\n\t\tflex: 1;\r\n\t\t/* 占据剩余空间 */\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\t/* 横向居中分布 */\r\n\t\talign-items: center;\r\n\t\t/* 垂直居中 */\r\n\t\tgap: 60rpx;\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.camera {\r\n\t\twidth: 130rpx;\r\n\t\theight: 130rpx;\r\n\t\tborder-radius: 50%;\r\n\t\tbackground-color: #f7f7f7;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tborder: none;\r\n\t\tpadding: 0;\r\n\t}\r\n\r\n\t.camera image {\r\n\t\twidth: 60rpx;\r\n\t\theight: 60rpx;\r\n\t}\r\n\r\n\t.uploadImg-btn {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n\t\r\n\t.noHistory{\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n\t\r\n\t.noHistory image{\r\n\t\twidth: 50%;\r\n\t\theight: 50%;\r\n\t}\r\n</style>","import MiniProgramPage from 'D:/WeiChat/SeedProgram/pages/home/home.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","CardMessage","onMounted","onUnmounted","onShow"],"mappings":";;;;;;;;;;;;;;;;;AAmDO,UAAA,UAAUA,kBAAI,CAAC;AACrB,UAAM,OAAOA,cAAAA,IAAI;AAAA,MAAC;AAAA,QACjB,SAAS;AAAA,MACV;AAAA,MACA;AAAA,QACC,SAAS;AAAA,MACV;AAAA,MACA;AAAA,QACC,SAAS;AAAA,MACV;AAAA,IAAA,CACC;AACG,QAAA,WAAWA,kBAAmB,CAAA,CAAE;AAC9B,UAAA,2BAAW;AACjB,UAAM,QAAQ,IAAIC,iCAAY,uBAAuB,KAAK,KAAK,IAAI;AAC1D,aAAA,MAAM,KAAK,KAAK;AAIzB,UAAM,aAAa;AAAA,MAClB,iBAAiB;AAAA,MACjB,QAAQ;AAAA,MACR,OAAO;AAAA,MACP,yBAAyB;AAAA,MACzB,gBAAgB;AAAA,IAAA;AAIX,UAAA,iBAAiB,CAAC,MAA4C;AAC3D,cAAA,QAAQ,EAAE,OAAO;AAAA,IAAA;AAGpB,UAAA,YAAYD,kBAAI,KAAK;AAG3B,UAAM,YAAY,MAAM;AACvB,gBAAU,QAAQ;AAAA,IAAA;AAInB,UAAM,aAAa,MAAM;AACxB,gBAAU,QAAQ;AAAA,IAAA;AAGnBE,kBAAAA,UAAU,MAAM;AACf,YAAM,QAAQ;AACd,YAAM,cAAc,MAAM,MAAM,SAAS,CAAC;AAG1C,kBAAY,YAAY;AAAA,IAAA,CACxB;AAEDC,kBAAAA,YAAY,MAAM;AACjB,YAAM,QAAQ;AACd,YAAM,cAAc,MAAM,MAAM,SAAS,CAAC;AAG1C,aAAO,YAAY;AAAA,IAAA,CACnB;AACDC,kBAAAA,OAAO,MAAM;AAEN,YAAA,SAAS,OAAS,EAAA;AACxB,UAAI,QAAQ;AACX,eAAO,QAAQ;AAAA,UACd,UAAU;AAAA,QAAA,CACV;AAAA,MACF;AAAA,IAAA,CACA;AAED,QAAI,cAAc;AAAA,MACjB,OAAO;AAAA,MACP,QAAQ;AAAA,IAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxHV,GAAG,WAAW,eAAe;"}